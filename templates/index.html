<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProcessBot Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-sankey/0.12.3/d3-sankey.min.js"></script>
    <link rel="stylesheet" href="/static/style.css">
    
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ðŸ¤– WorkFlow Dashboard</h1>
        <p>AI-Powered Work Automation Analytics</p>
    </div>
        <div class="nav-buttons">
        <a href="{{ url_for('index') }}" class="nav-button">Dashboard</a>
        <a href="{{ url_for('analytics') }}" class="nav-button active">Analytics</a>

    </div>

   <div class="chart-container">
        <div class="chart-title">Application Usage Heatmap</div>
        <p class="chart-description">A comprehensive heatmap visualization showing the intensity of application usage over time. 
        Darker colors indicate higher activity periods, helping identify peak usage patterns and work habits.
    </p>
        <div id="time-spent-chart" class="chart-wrapper">
            <div style="display: flex; justify-content: center;">
                <iframe id="time-iframe" width="70%" height="600px" frameborder="0"></iframe>
            </div>  
        </div>
    </div>

    <div class="chart-container">
        <div class="chart-title">Daily Window Transition Patterns</div>
                <p class="chart-description">        Today's window switching behavior visualized as a heatmap. Shows how you navigate between different applications,
        highlighting frequent transitions and potential workflow optimization opportunities.
    </p>
        <div id="network-chart" class="chart-wrapper">
            <div style="display: flex; justify-content: center;">
                <iframe id="network-iframe1" width="70%" height="600px" frameborder="0"></iframe>
            </div>
        </div>
    </div>
        <div class="chart-container">
        <div class="chart-title">Top 12 Most Visited Domains</div>
        <p class="chart-description">Bar chart showing your most frequently visited web domains. Helps identify key online resources
        and track time spent on different websites to improve productivity and focus.
    </p>
        <div id="network-chart" class="chart-wrapper">
            <div style="display: flex; justify-content: center;">
                <iframe id="network-iframe2" width="70%" height="600px" frameborder="0"></iframe>
            </div>
        </div>
    </div>

<div class="tooltip" id="tooltip"></div>
<script>
    function loadCharts() {
                // ZakÅ‚adajÄ…c, Å¼e pliki nazywajÄ… siÄ™ czas_procesy.html i siec_process.html
                document.getElementById('time-iframe').src = `/plots/heatmapa_przejsc_all.html`;
                document.getElementById('network-iframe1').src = `/plots/heatmapa_przejsc_today.html`;
                document.getElementById('network-iframe2').src = `/plots/barplot_top_12_domains.html`;
            }

            // ZaÅ‚aduj wykresy na starcie
            loadCharts();

            // OdÅ›wieÅ¼aj wykresy co 300 sekund
            setInterval(loadCharts, 300_000);
</script>
</body>
</html>
